{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/wuyuwenjames/Desktop/cs/browser-automation-platform/src/app/tasks/new/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\n\nexport default function NewTaskPage() {\n  const router = useRouter();\n  const [formData, setFormData] = useState({\n    name: \"\",\n    description: \"\",\n    targetSite: \"\",\n    cronSchedule: \"\",\n    userId: \"demo-user\", // In production, this would come from auth\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      const response = await fetch(\"/api/tasks\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          ...formData,\n          cronSchedule: formData.cronSchedule || undefined,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Failed to create task\");\n      }\n\n      router.push(`/tasks/${data.task.id}`);\n    } catch (err: any) {\n      setError(err.message);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen p-8\">\n      <div className=\"max-w-3xl mx-auto\">\n        <h1 className=\"text-4xl font-bold mb-8\">Create New Task</h1>\n\n        {error && (\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6\">\n            {error}\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">\n              Task Name *\n            </label>\n            <input\n              type=\"text\"\n              required\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              className=\"w-full border rounded-lg px-4 py-2\"\n              placeholder=\"e.g., Download Stripe Invoices\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">\n              Description (Natural Language) *\n            </label>\n            <textarea\n              required\n              value={formData.description}\n              onChange={(e) =>\n                setFormData({ ...formData, description: e.target.value })\n              }\n              className=\"w-full border rounded-lg px-4 py-2 h-32\"\n              placeholder=\"e.g., Log into Stripe dashboard, navigate to invoices, download all invoices from the last month as PDF files\"\n            />\n            <p className=\"text-sm text-gray-500 mt-1\">\n              Describe what you want the browser to do in plain English\n            </p>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">\n              Target Site *\n            </label>\n            <input\n              type=\"text\"\n              required\n              value={formData.targetSite}\n              onChange={(e) =>\n                setFormData({ ...formData, targetSite: e.target.value })\n              }\n              className=\"w-full border rounded-lg px-4 py-2\"\n              placeholder=\"e.g., stripe, amazon, linkedin\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">\n              Cron Schedule (Optional)\n            </label>\n            <input\n              type=\"text\"\n              value={formData.cronSchedule}\n              onChange={(e) =>\n                setFormData({ ...formData, cronSchedule: e.target.value })\n              }\n              className=\"w-full border rounded-lg px-4 py-2\"\n              placeholder=\"e.g., 0 9 * * MON (Every Monday at 9am)\"\n            />\n            <p className=\"text-sm text-gray-500 mt-1\">\n              Leave empty for manual execution only. Examples:\n              <br />• <code>0 9 * * *</code> - Daily at 9am\n              <br />• <code>0 9 * * MON</code> - Every Monday at 9am\n              <br />• <code>0 0 1 * *</code> - First day of every month\n            </p>\n          </div>\n\n          <div className=\"flex gap-4\">\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition disabled:opacity-50\"\n            >\n              {loading ? \"Creating...\" : \"Create Task\"}\n            </button>\n            <Link\n              href=\"/tasks\"\n              className=\"border border-gray-300 px-6 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition\"\n            >\n              Cancel\n            </Link>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}