{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/wuyuwenjames/Desktop/cs/browser-automation-platform/src/app/tasks/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\n\ninterface Task {\n  id: string;\n  name: string;\n  description: string;\n  targetSite: string;\n  cronSchedule: string | null;\n  isActive: boolean;\n  createdAt: string;\n  runs: Array<{\n    id: string;\n    status: string;\n    startedAt: string;\n  }>;\n}\n\nexport default function TasksPage() {\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetch(\"/api/tasks\")\n      .then((res) => res.json())\n      .then((data) => {\n        setTasks(data.tasks || []);\n        setLoading(false);\n      })\n      .catch((error) => {\n        console.error(\"Failed to fetch tasks:\", error);\n        setLoading(false);\n      });\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen p-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <p>Loading tasks...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex justify-between items-center mb-8\">\n          <h1 className=\"text-4xl font-bold\">All Tasks</h1>\n          <Link\n            href=\"/tasks/new\"\n            className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition\"\n          >\n            Create New Task\n          </Link>\n        </div>\n\n        {tasks.length === 0 ? (\n          <div className=\"text-center py-12 border rounded-lg\">\n            <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n              No tasks yet. Create your first automation task!\n            </p>\n            <Link\n              href=\"/tasks/new\"\n              className=\"text-blue-600 hover:underline\"\n            >\n              Create Task\n            </Link>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {tasks.map((task) => (\n              <Link\n                key={task.id}\n                href={`/tasks/${task.id}`}\n                className=\"block border rounded-lg p-6 hover:shadow-lg transition\"\n              >\n                <div className=\"flex justify-between items-start mb-2\">\n                  <h2 className=\"text-2xl font-semibold\">{task.name}</h2>\n                  <span\n                    className={`px-3 py-1 rounded-full text-sm ${\n                      task.isActive\n                        ? \"bg-green-100 text-green-800\"\n                        : \"bg-gray-100 text-gray-800\"\n                    }`}\n                  >\n                    {task.isActive ? \"Active\" : \"Inactive\"}\n                  </span>\n                </div>\n\n                <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n                  {task.description}\n                </p>\n\n                <div className=\"flex gap-4 text-sm text-gray-500\">\n                  <span>üéØ {task.targetSite}</span>\n                  {task.cronSchedule && <span>‚è∞ {task.cronSchedule}</span>}\n                  {task.runs.length > 0 && (\n                    <span>\n                      Last run:{\" \"}\n                      {task.runs[0].status === \"success\" ? \"‚úÖ\" : \"‚ùå\"}{\" \"}\n                      {new Date(task.runs[0].startedAt).toLocaleDateString()}\n                    </span>\n                  )}\n                </div>\n              </Link>\n            ))}\n          </div>\n        )}\n\n        <div className=\"mt-8\">\n          <Link\n            href=\"/\"\n            className=\"text-blue-600 hover:underline\"\n          >\n            ‚Üê Back to Home\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAoBe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,cACH,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,CAAC;YACL,SAAS,KAAK,KAAK,IAAI,EAAE;YACzB,WAAW;QACb,GACC,KAAK,CAAC,CAAC;YACN,QAAQ,KAAK,CAAC,0BAA0B;YACxC,WAAW;QACb;IACJ,GAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;8BAAE;;;;;;;;;;;;;;;;IAIX;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAqB;;;;;;sCACnC,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;gBAKF,MAAM,MAAM,KAAK,kBAChB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAAwC;;;;;;sCAGrD,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;yCAKH,8OAAC;oBAAI,WAAU;8BACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,uKAAI;4BAEH,MAAM,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;4BACzB,WAAU;;8CAEV,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAG,WAAU;sDAA0B,KAAK,IAAI;;;;;;sDACjD,8OAAC;4CACC,WAAW,CAAC,+BAA+B,EACzC,KAAK,QAAQ,GACT,gCACA,6BACJ;sDAED,KAAK,QAAQ,GAAG,WAAW;;;;;;;;;;;;8CAIhC,8OAAC;oCAAE,WAAU;8CACV,KAAK,WAAW;;;;;;8CAGnB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;;gDAAK;gDAAI,KAAK,UAAU;;;;;;;wCACxB,KAAK,YAAY,kBAAI,8OAAC;;gDAAK;gDAAG,KAAK,YAAY;;;;;;;wCAC/C,KAAK,IAAI,CAAC,MAAM,GAAG,mBAClB,8OAAC;;gDAAK;gDACM;gDACT,KAAK,IAAI,CAAC,EAAE,CAAC,MAAM,KAAK,YAAY,MAAM;gDAAK;gDAC/C,IAAI,KAAK,KAAK,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE,kBAAkB;;;;;;;;;;;;;;2BA5BrD,KAAK,EAAE;;;;;;;;;;8BAqCpB,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,uKAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}}]
}